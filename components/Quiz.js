"use client";

import { useState, useEffect } from "react";

const quizData2020 = [
  {
    question: "Кои вреди НЕ подлежат на обезщетение при договорна отговорност:",
    options: ["неимуществени", "предвидими", "косвени"],
    correctAnswer: "косвени",
  },
  {
    question:
      "Каква е сделката, сключена от представител без представителна власт:",
    options: ["нищожна", "висящо недействителна", "унищожаема"],
    correctAnswer: "висящо недействителна",
  },
  {
    question: "В кой случай вписването има конститутивно действие:",
    options: [
      "при вписване на коститутивни нотариални актове",
      "при вписване на искови молби",
      "при вписване на ипотека",
    ],
    correctAnswer: "при вписване на ипотека",
  },
  {
    question: "Наследството се открива в:",
    options: [
      "мястото на смъртта на наследодателя",
      "последния постоянен адрес на наследодателя",
      "последния настоящ адрес на наследодателя",
    ],
    correctAnswer: "последния постоянен адрес на наследодателя",
  },
  {
    question: "Брачният договор се сключва в:",
    options: [
      "писмена форма с нотариална заверка на подписите и на съдържанието",
      "формата на нотариален акт",
      "форма, зависеща от съдържанието му",
    ],
    correctAnswer:
      "писмена форма с нотариална заверка на подписите и на съдържанието",
  },
  {
    question:
      "Ако ответникът е починал преди подаване на исковата молба в съда:",
    options: [
      "съдът прекратява делото с определение, тъй като производството е недопустимо",
      "съдът дава указание на ищеца да насочи иска си срещу наследниците",
      "съдът следва служебно да конституира наследниците",
    ],
    correctAnswer:
      "съдът прекратява делото с определение, тъй като производството е недопустимо",
  },
  {
    question: "Управителят на дружество с ограничена отговорност:",
    options: [
      "предявява иска от свое име и за своя сметка",
      "предявява иска от свое име и за сметка на търговското дружество",
      "предявява иска от името и за сметка на търговското дружество",
    ],
    correctAnswer:
      "предявява иска от името и за сметка на търговското дружество",
  },
  {
    question: "Кои факти НЕ подлежат на доказване в исковото производство?",
    options: [
      "фактите, които не са оспорени от насрещната страна",
      "общоизвестните и служебно известните на съда факти",
      "фактите, за които страните са представили официални документи",
    ],
    correctAnswer: "общоизвестните и служебно известните на съда факти",
  },
  {
    question: "Решението по брачен иск поражда сила на пресъдено нещо:",
    options: [
      "между съпрузите",
      "между съпрузите и техните наследници",
      "по отношение на всички",
    ],
    correctAnswer: "по отношение на всички",
  },
  {
    question: "Изпълнителният процес се образува:",
    options: [
      "с депозиране пред съдебния изпълнител на молбата с приложен изпълнителен лист или друг акт, подлежащ на изпълнение;",
      "с депозиране в съда на молбата за издаване на изпълнителен лист",
      "с депозиране в съда на заявлението за издаване на заповед за изпълнение",
    ],
    correctAnswer:
      "с депозиране пред съдебния изпълнител на молбата с приложен изпълнителен лист или друг акт, подлежащ на изпълнение;",
  },
  {
    question: "Административнопроцесуалният кодекс НЕ се прилага за:",
    options: [
      "производства по издаването, оспорването и изпълнението на административните актове, както и оспорването по съдебен ред на подзаконови нормативни актове;",
      "актовете на Народното събрание и на Президента на Републиката;",
      "споразумението и административния договор.",
    ],
    correctAnswer:
      "актовете на Народното събрание и на Президента на Републиката;",
  },
  {
    question: "Висшият съдебен съвет осъществява правомощията си чрез:",
    options: [
      "пленум, съдийска и прокурорска колегия;",
      "съдийска и прокурорска колегия;",
      "съдийска, прокурорска и адвокатска колегия",
    ],
    correctAnswer: "пленум, съдийска и прокурорска колегия;",
  },

  {
    question:
      "Участието на прокурора в административни дела по закон е задължително:",
    options: [
      "в касационни производства по оспорване на административни актове и в производства по оспорване на подзаконови нормативни актове;",
      "когато прецени, че това се налага от важен държавен или обществен интерес;",
      "когато има указание на главния прокурор;",
    ],
    correctAnswer:
      "в касационни производства по оспорване на административни актове и в производства по оспорване на подзаконови нормативни актове;",
  },
  {
    question:
      "Кое от изброените нарушения води до НИЩОЖНОСТ на административния акт?",
    options: [
      "пълна липса на мотиви;",
      "издаване на акт в устна форма, когато законът изисква тя да е писмена;",
      "непосочването или погрешното посочване на правното основание, на което е издаден акта;",
    ],
    correctAnswer:
      "издаване на акт в устна форма, когато законът изисква тя да е писмена;",
  },
  {
    question: "Нарушаване правото на защита на адресата на акта представлява:",
    options: [
      "съществено нарушение на административнопроизводствени правила;",
      "противоречие с материалноправни разпоредби;",
      "несъответствие с целта на закона;",
    ],
    correctAnswer:
      "съществено нарушение на административнопроизводствени правила;",
  },

  ////////////////////
  {
    question: "Нямат право да оспорват административния акт:",
    options: [
      "гражданите и организациите, чиито права, свободи или законни интереси са нарушени или застрашени от него или за които той поражда задължения;",
      "прокурорът в случаите по чл. 16 АПК;",
      "членове на колективен орган, в това им качество, на решенията на органа, на които са членове;",
    ],
    correctAnswer:
      "членове на колективен орган, в това им качество, на решенията на органа, на които са членове;",
  },
  {
    question: "Кои от посочените НЯМАТ право на касационно оспорване:",
    options: [
      "страните по делото, за които решението е благоприятно;",
      "лицата, спрямо които решението има сила и то е неблагоприятно, но те не са участвали в делото;",
      "главният прокурор или неговият заместник при Върховната административна прокуратура;",
    ],
    correctAnswer: "страните по делото, за които решението е благоприятно;",
  },
  {
    question: "Не са административнонаказателно отговорни:",
    options: [
      "пълнолетните лица, навършили 18 години, които са извършили административни нарушения в състояние на вменяемост;",
      "непълнолетните, които са навършили 16 години, но не са навършили 18 години, когато са могли да разбират свойството и значението на извършеното нарушение и да ръководят постъпките си;",
      "малолетни, непълнолетни на възраст от 14 до 16 години и поставени под пълно запрещение;",
    ],
    correctAnswer:
      "малолетни, непълнолетни на възраст от 14 до 16 години и поставени под пълно запрещение;",
  },
  {
    question:
      "Доколкото в ЗАНН няма особени правила за призоваване и връчване на призовки и съобщения, извършване на опис и изземване на вещи, определяне разноски на свидетели и възнаграждения на вещи лица, изчисляване на срокове, както и за производството пред съда по разглеждане на жалби срещу наказателни постановления, на касационни жалби пред административния съд и предложения за възобновяване, се прилагат разпоредбите на:",
    options: [
      "Гражданския процесуален кодекс;",
      "Административнопроцесуалния кодекс;",
      "Наказателно-процесуалния кодекс.",
    ],
    correctAnswer: "Наказателно-процесуалния кодекс.",
  },
  {
    question: "Досъдебното производство се образува:",
    options: [
      "с постановление на началника на съответното районно полицейско управление по мястото на извършване на престъплението;",
      "с постановление на прокурора;",
      "с разпореждане на съответния съд;",
    ],
    correctAnswer: "с постановление на прокурора;",
  },
  {
    question: "Задължителни елементи в основния състав на престъпление са:",
    options: [
      "признаците относно изпълнителното деяние;",
      "признаци относно субективната страна;",
      "признаци относно престъпния резултат;",
    ],
    correctAnswer: "признаците относно изпълнителното деяние;",
  },
  {
    question: "При евентуален умисъл деецът:",
    options: [
      "съзнава общественоопасния характер на деянието, предвижда неговите общественоопасни последици и иска тяхното настъпване;",
      "предвижда настъпването на общественоопасните последици, но е мислел да ги предотврати;",
      "съзнава общественоопасния характер на деянието, предвижда неговите общественоопасни последици и допуска тяхното настъпване;",
    ],
    correctAnswer:
      "съзнава общественоопасния характер на деянието, предвижда неговите общественоопасни последици и допуска тяхното настъпване;",
  },
  {
    question: "Посочете верния отговор:",
    options: [
      "наказателната отговорност е лична;",
      "наказание за престъпление се налага от органите на наказателното производство;",
      "наказание по Наказателния кодекс може да се наложи на лице, извършило, предвидено в закона престъпление или административно нарушение;",
    ],
    correctAnswer: "наказателната отговорност е лична;",
  },
  {
    question: "Посочете мярката за неотклонение сред изброените:",
    options: [
      "настаняване за изследване в психиатрично заведение;",
      "принудително довеждане;",
      "подписка;",
    ],
    correctAnswer: "подписка;",
  },
  {
    question: "Законен повод за започване на разследване е:",
    options: [
      "информация за извършено престъпление, разпространена чрез слух;",
      "тъжба до съда;",
      "съобщение до органите на досъдебното производство за извършено престъпление;",
    ],
    correctAnswer:
      "съобщение до органите на досъдебното производство за извършено престъпление;",
  },
  {
    question: "Реабилитацията по българското наказателно право:",
    options: [
      "заличава престъпния характер на деянието;",
      "освобождава от наказателна отговорност и от последиците на осъждането;",
      "заличава осъждането и последиците от него;",
    ],
    correctAnswer: "заличава осъждането и последиците от него;",
  },
  {
    question:
      "Задължително ли е експертното заключение за органите на досъдебното производство и съда:",
    options: [
      "не, никога;",
      "да, всякога;",
      "само, когато е достатъчно пълно и ясно.",
    ],
    correctAnswer: "не, никога;",
  },
  {
    question: "Прокурорът прекратява наказателното производство:",
    options: [
      "когато извършителят на престъплението е неизвестен;",
      "когато намери, че обвинението не е доказано;",
      "когато обвиняемият не е издирен.",
    ],
    correctAnswer: "когато намери, че обвинението не е доказано;",
  },
  {
    question: "Съдът признава подсъдимия за невиновен:",
    options: [
      "когато не се установи, че деянието е извършено от подсъдимия;",
      "когато се установи, че деецът е бил длъжен и е могъл да предвиди общественоопасните последици, но не е предвиждал тяхното настъпване;",
      "когато е оборена презумпцията за виновност.",
    ],
    correctAnswer:
      "когато не се установи, че деянието е извършено от подсъдимия;",
  },
  {
    question:
      "Решението за провеждане на предварително изслушване по чл. 370 НПК се взема от съда:",
    options: [
      "по искане на прокурора;",
      "по искане на подсъдимия;",
      "при общо съгласие на всички страни.",
    ],
    correctAnswer: "по искане на подсъдимия;",
  },
];

const quizData2021 = [
  {
    question:
      "С какви актове се произнася прокурорът в досъдебното производство?",
    options: ["с разпореждания", "с определения", "с постановления"],
    correctAnswer: "с постановления",
  },
  {
    question: "Търговските дружества възникват:",
    options: [
      "момента на подписване на учредителния акт от съдружниците",
      "от датата на провеждане на учредителното събрание",
      "от датата на вписване в Търговския регистър",
    ],
    correctAnswer: "от датата на вписване в Търговския регистър",
  },
  {
    question: "Коя от изброените сделки е едностранна?",
    options: ["дарение", "завещание", "заем"],
    correctAnswer: "завещание",
  },
  {
    question:
      "Отказът на прокурора да образува досъдебно производство се обжалва пред:",
    options: [
      "първоинстанционния съд",
      "по-горестоящата прокуратура",
      "Висшият съдебен съвет",
    ],
    correctAnswer: "по-горестоящата прокуратура",
  },
  {
    question: "Прокуристът не може без изрично пълномощно:",
    options: [
      "да сключва търговски сделки от името на търговеца",
      "да взема заеми от името на търговеца",
      "да обременява с тежести недвижими имоти на търговеца",
    ],
    correctAnswer: "да обременява с тежести недвижими имоти на търговеца",
  },
  {
    question: "Кои от изброените не са изключителна държавна собственост?",
    options: ["подземните богатства", "водите", "общинските пътища"],
    correctAnswer: "общинските пътища",
  },
  {
    question:
      "Кога се налага да се разпита свидетел пред съдия в рамките на досъдебно производство?",
    options: [
      "когато съществуват причини, които правят явяването в съдебно заседание невъзможно",
      "когато свидетелят откаже да се яви в съдебно заседание",
      "за да не бъде призоваван свидетелят в съдебно заседание",
    ],
    correctAnswer:
      "когато съществуват причини, които правят явяването в съдебно заседание невъзможно",
  },
  {
    question: "Прокурорът спира наказателното производство, когато:",
    options: [
      "деянието не съставлява престъпление",
      "деецът е починал",
      "разглеждането на делото в отсъствие на обвиняемия би попречило за разкриване на обективната истина",
    ],
    correctAnswer:
      "разглеждането на делото в отсъствие на обвиняемия би попречило за разкриване на обективната истина",
  },
  {
    question: "За вреди, причинени от вещи:",
    options: [
      "не се носи отговорност",
      "носи отговорност само собственикът",
      "носят солидарна отговорност собственикът и лицето, под чийто надзор се намира вещта",
    ],
    correctAnswer:
      "носят солидарна отговорност собственикът и лицето, под чийто надзор се намира вещта",
  },
  {
    question: "Не се допуска обезпечение на иск за парично вземане срещу:",
    options: [
      "сдруженията с нестопанска цел",
      "държавните учреждения",
      "фондациите",
    ],
    correctAnswer: "държавните учреждения",
  },
  {
    question: "Бързо производство се провежда когато:",
    options: [
      "Обвиняемият е направил искане",
      "във всички случаи, когато прокурорът прецени",
      "очевидец посочи лицето, извършило престъплението",
    ],
    correctAnswer: "очевидец посочи лицето, извършило престъплението",
  },
  {
    question: "Не е общественоопасно деянието извършено:",
    options: [
      "при крайна необходимост",
      "от малолетно лице",
      "от лице с имунитет",
    ],
    correctAnswer: "при крайна необходимост",
  },
  {
    question: "Кое от изброените е основание за нищожност на сделките?",
    options: ["грешка", "заобикаляне на закона", "заплашване"],
    correctAnswer: "заобикаляне на закона",
  },
  {
    question:
      "При разглеждане на наказателни дела като въззивна инстанция, съдът заседава в състав от:",
    options: [
      "един съдия и двама съдебни заседатели",
      "трима съдии",
      "двама съдии и трима съдебни заседатели",
    ],
    correctAnswer: "трима съдии",
  },
  {
    question: "Коя от изброените мерки не е мярка за неотклонение?",
    options: [
      "гаранция",
      "домашен арест",
      "забрана за напускане пределите на Република България",
    ],
    correctAnswer: "забрана за напускане пределите на Република България",
  },
  {
    question: "Срокът за подаване на тъжба от частния тъжител е:",
    options: [
      "шестмесечен от датата на извършване на престъплението",
      "едногодишен от датата на извършване на престъплението",
      "шестмесечен от деня, когато пострадалият е узнал за извършване на престъплението",
    ],
    correctAnswer:
      "шестмесечен от деня, когато пострадалият е узнал за извършване на престъплението",
  },
  {
    question:
      "Общата вещ се използва и управлява съгласно решението на съсобствениците, притежаващи:",
    options: [
      "повече от 1/3 от общата вещ",
      "повече от половината от общата вещ",
      "повече от 2/3 от общата вещ",
    ],
    correctAnswer: "повече от половината от общата вещ",
  },
  {
    question:
      "Началният момент, от който защитникът може да встъпи в наказателното производство е:",
    options: [
      "образуване на досъдебното производство",
      "задържане на лицето или привличането му в качеството на обвиняем",
      "внасяне на обвинителния акт в съда",
    ],
    correctAnswer:
      "задържане на лицето или привличането му в качеството на обвиняем",
  },
  {
    question:
      "Кой от посочените субекти не е страна в съдебното производство по наказателни дела?",
    options: ["защитникът", "повереникът", "гражданският ищец"],
    correctAnswer: "повереникът",
  },
  {
    question:
      "Срокът за изключване на наказателното преследване по давност тече от:",
    options: [
      "извършване на престъплението",
      "повдигане на обвинението",
      "влизане в сила на присъдата",
    ],
    correctAnswer: "извършване на престъплението",
  },
  {
    question: "Кое от наказанията не може да се налага на непълнолетно лице?",
    options: ["лишаване от свобода", "глоба", "пробация"],
    correctAnswer: "глоба",
  },
  {
    question: "Кога лицето не се счита за осъждано?",
    options: [
      "когато е помилвано",
      "когато е освободено от наказателна отговорност с налагане на административно наказание по чл. 78а от НК",
      "когато изпълнението на наказанието му е отложено за изпитателен срок на основание чл. 66, ал. 1 от НК",
    ],
    correctAnswer: "когато е помилвано",
  },
  {
    question: "Кое от изброените лица не е съучастник в престъпната дейност?",
    options: ["подбудителят", "помагачът", "укривателят"],
    correctAnswer: "укривателят",
  },
  {
    question: "На окръжния съд като първа инстанция са подсъдни:",
    options: [
      "исковете за оспорване на произход; за прекратяване на осиновяване, за поставяне под запрещение или за отменянето му",
      "исковете за собственост и други вещни права върху недвижими имоти",
      "исковете срещу държавата и държавни учреждения",
    ],
    correctAnswer:
      "исковете за оспорване на произход; за прекратяване на осиновяване, за поставяне под запрещение или за отменянето му",
  },
  {
    question:
      "Отказът на нотариуса да извърши нотариално удостоверяване подлежи на обжалване пред:",
    options: ["районен съд", "окръжен съд", "върховен касационен съд"],
    correctAnswer: "окръжен съд",
  },
  {
    question:
      "За валидността на сделка, с която се прехвърля собствеността на предприятие като съвкупност от права, задължения и фактически отношения, е необходима:",
    options: [
      "писмена форма",
      "писмена форма с нотариално удостоверяване на подписите на страните",
      "писмена форма с нотариално удостоверяване на подписите и съдържанието, извършени едновременно",
    ],
    correctAnswer: "писмена форма с нотариално удостоверяване на подписите",
  },
  {
    question: "Постановеното съдебно решение в първа фаза на делбата е:",
    options: [
      "необжалваемо",
      "обжалваемо е пред окръжен съд",
      "обжалваемо е на две инстанции",
    ],
    correctAnswer: "обжалваемо е пред окръжен съд",
  },
  {
    question: "Условията и редът за лицензирането на банките се уреждат от:",
    options: [
      "Закона за банките",
      "Закона за банките и кредитното дело",
      "Закона за кредитните институции",
    ],
    correctAnswer: "Закона за кредитните институции",
  },
  {
    question:
      "Съдията по вписвания при отказ за вписване в имотния регистър издава:",
    options: ["разпореждане", "определение", "решение"],
    correctAnswer: "определение",
  },
  {
    question:
      "До кой момент в изпълнителното производство могат да се присъединяват други кредитори на същия длъжник:",
    options: [
      "по всяко време на изпълнението",
      "по всяко време на изпълнението, до провеждането на публична продан",
      "по всяко време на изпълнението, докато разпределението не е изготвено",
    ],
    correctAnswer:
      "по всяко време на изпълнението, докато разпределението не е изготвено",
  },
];

const quizData2021June = [
  {
    question: "Законната ипотека:",
    options: [
      "няма нужда от вписване в имотния регистър, за да произведе действие, защото възниква по силата на изрично законово разпореждане",
      "се учредява с едностранен акт на кредитора и не зависи от волята на длъжника",
      "се учредява с писмен договор с нотариална заверка на подписите и съдържанието",
    ],
    correctAnswer:
      "няма нужда от вписване в имотния регистър, за да произведе действие, защото възниква по силата на изрично законово разпореждане",
  },
  {
    question: "Унищожаването на брака има действие:",
    options: [
      "за в бъдеще",
      "обратно действие",
      "съдът определя дали унищожаването на брака да има действие за в бъдеще или обратно действие",
    ],
    correctAnswer: "обратно действие",
  },
  {
    question: "Нямат право на запазена част от наследството:",
    options: ["родителите", "братята и сестрите", "преживелият съпруг"],
    correctAnswer: "братята и сестрите",
  },
  {
    question: "Договорът за продажба на наследство се сключва:",
    options: [
      "в писмена форма с нотариална заверка на подписите на страните",
      "във формата на нотариален акт, когато в състава на наследствената маса са включени и недвижими имоти",
      "в писмена форма с нотариална заверка на подписите и съдържанието",
    ],
    correctAnswer:
      "в писмена форма с нотариална заверка на подписите на страните",
  },
  {
    question:
      "При отказ на задължената страна да сключи доброволно окончателен договор, упражняването на преобразуващото право по чл. 19, ал. 3 ЗЗД:",
    options: [
      "става с конститутивен иск, който се разглежда по правилата на особено съдебно исково производство, уредено в ГПК",
      "става с установителен иск, който се разглежда по правилата на общия исков процес",
      "винаги се упражнява извънсъдебно",
    ],
    correctAnswer:
      "става с конститутивен иск, който се разглежда по правилата на особено съдебно исково производство, уредено в ГПК",
  },
  {
    question:
      "Ако владението е добросъвестно, правото на собственост по давност върху недвижим имот се придобива с непрекъснато владение в продължение на:",
    options: ["10 години", "5 години", "20 години"],
    correctAnswer: "10 години",
  },
  {
    question:
      "Общото събрание на съдружниците в дружеството с ограничена отговорност:",
    options: [
      "може да взема решения неприсъствено, ако всички съдружници са заявили писмено съгласието си за решението",
      "не може да взема неприсъствени решения",
      "може да взема неприсъствени решения с мнозинство по-голямо от три четвърти от дяловете на съдружниците в капитала",
    ],
    correctAnswer:
      "може да взема решения неприсъствено, ако всички съдружници са заявили писмено съгласието си за решението",
  },
  {
    question: "Синдик в производството по несъстоятелност може да бъде:",
    options: [
      "само физическо лице",
      "физическо или юридическо лице",
      "физическо и юридическо лице, което е определило свой представител, който да упражнява функциите му като синдик",
    ],
    correctAnswer: "физическо лице",
  },
  {
    question:
      "Тълкувателните постановления, приети от съответните колегии на ВКС и ВАС, са задължителни:",
    options: [
      "само за органите на съдебната власт",
      "само за органите на съдебната и изпълнителната власт",
      "за органите на съдебната и изпълнителната власт, за органите на самоуправление, както и за всички органи, които издават административни актове",
    ],
    correctAnswer:
      "за органите на съдебната и изпълнителната власт, за органите на самоуправление, както и за всички органи, които издават административни актове",
  },
  {
    question: "Адвокатът е длъжен да пази тайната на своя клиент:",
    options: [
      "без ограничение във времето",
      "до приключване на съдебния процес, за който е бил упълномощен",
      "до прекратяване на договора за правна помощ",
    ],
    correctAnswer: "без ограничение във времето",
  },
  {
    question:
      "Наказателното постановление може да се обжалва в 7-дневен срок от връчването му пред:",
    options: ["районния съд", "окръжния съд", "административния съд"],
    correctAnswer: "районния съд",
  },
  {
    question: "Право да оспорват индивидуален административен акт имат лицата:",
    options: [
      "за които актът създава задължения или техни права, свободи или законни интереси са нарушени или застрашени от него",
      "за които актът е благоприятен",
      "които са адресати на акта",
    ],
    correctAnswer:
      "за които актът създава задължения или техни права, свободи или законни интереси са нарушени или застрашени от него",
  },
  {
    question: "В касационното производство по АПК:",
    options: [
      "участието на прокурор не е задължително",
      "участието на прокурор е задължително",
      "прокурорът може да участва, ако това се налага с оглед защита на важен държавен или обществен интерес",
    ],
    correctAnswer:
      "прокурорът може да участва, ако това се налага с оглед защита на важен държавен или обществен интерес",
  },
  {
    question:
      "Принудителните административни мерки подлежат на обжалване пред:",
    options: ["окръжен съд", "районен съд", "административен съд"],
    correctAnswer: "административен съд",
  },
  {
    question:
      "Решението на административния съд за отмяна на подзаконов нормативен акт има:",
    options: [
      "сила само за страните по делото",
      "конститутивно действие",
      "декларативно действие",
    ],
    correctAnswer: "декларативно действие",
  },
  {
    question: "В първоинстанционното производство по АПК:",
    options: [
      "съдът назначава вещи лица, само ако има изрично искане от страната",
      "съдът може да назначава вещи лица и служебно",
      "не се допуска събиране на свидетелски показания",
    ],
    correctAnswer: "съдът може да назначава вещи лица и служебно",
  },
  {
    question:
      "Председателят на ВКС, ВАС и главният прокурор се назначават от президента по предложение на ВСС за срок от:",
    options: ["5 години", "7 години", "9 години"],
    correctAnswer: "7 години",
  },
  {
    question: "Кое твърдение НЕ е вярно:",
    options: [
      "Със закон могат да се създават извънредни съдилища",
      "Със закон могат да се създават специализирани съдилища",
      "Правораздаването се осъществява от ВКС, ВАС, апелативните, окръжните, военните и районните съдилища",
    ],
    correctAnswer: "Със закон могат да се създават извънредни съдилища",
  },
  {
    question: "Съдът обявява нищожността на индивидуалния административен акт:",
    options: [
      "само при изрично направено искане за това",
      "дори и да липсва искане за това",
      "само ако прокурорът е подал протест",
    ],
    correctAnswer: "дори и да липсва искане за това",
  },
  {
    question: "Разпитът на свидетел е:",
    options: [
      "способ на доказване в наказателното производство",
      "доказателство",
      "способ на доказване и доказателство",
    ],
    correctAnswer: "способ на доказване и доказателство",
  },
  {
    question:
      "Участието на защитник в досъдебното производство е задължително:",
    options: [
      "само когато обвиняемият не може сам да се защитава",
      "само когато деянието, предмет на разследване, е тежко умишлено престъпление",
      "в случаите, предвидени в закона",
    ],
    correctAnswer: "в случаите, предвидени в закона",
  },
  {
    question: "Кое лице няма качеството на страна в наказателния процес:",
    options: ["обвиняемият", "пострадалият", "свидетелят"],
    correctAnswer: "свидетелят",
  },
  {
    question: "Обвиняемият има право:",
    options: [
      "само на един защитник",
      "на един или повече защитници",
      "на трима защитници, определени от съда",
    ],
    correctAnswer: "на един или повече защитници",
  },
  {
    question: "Срокът за постановяване на присъдата започва да тече от:",
    options: [
      "деня на приключване на съдебното следствие",
      "деня на постъпване на делото в съда",
      "деня на приключване на съдебното заседание",
    ],
    correctAnswer: "деня на приключване на съдебното следствие",
  },
  {
    question: "Единното наказание при съвкупност от престъпления се определя:",
    options: [
      "по правилата на съвкупността и се включват и вече изтърпените наказания",
      "по правилата на реалната съвкупност и винаги се налага най-тежкото наказание",
      "по правилата на съвкупността, като съдът може да определи наказание между минималното и максималното на най-тежкото престъпление",
    ],
    correctAnswer:
      "по правилата на съвкупността, като съдът може да определи наказание между минималното и максималното на най-тежкото престъпление",
  },
  {
    question: "Срокът за обжалване на решението на административния съд е:",
    options: ["7 дни", "14 дни", "30 дни"],
    correctAnswer: "14 дни",
  },
  {
    question:
      "Когато административен акт е оспорен, той подлежи на изпълнение:",
    options: [
      "само след влизането в сила на съдебното решение",
      "веднага, освен ако не е спрян от съда",
      "след разрешение на административния орган",
    ],
    correctAnswer: "веднага, освен ако не е спрян от съда",
  },
  {
    question:
      "Обезпечителните мерки в административното производство се налагат:",
    options: [
      "само от административния орган",
      "само от съда",
      "от административния орган, а в определени случаи – от съда",
    ],
    correctAnswer: "от административния орган, а в определени случаи – от съда",
  },
  {
    question: "По административни дела касационната инстанция е:",
    options: [
      "Върховният административен съд",
      "Апелативният съд",
      "Окръжният съд",
    ],
    correctAnswer: "Върховният административен съд",
  },
  {
    question: "Конституционният съд се произнася с решение, когато:",
    options: [
      "отменя закон или друг акт, противоречащ на Конституцията",
      "разрешава спорове за компетентност между институции",
      "всички изброени",
    ],
    correctAnswer: "всички изброени",
  },
];

const tests = {
  "Октомври 2020": quizData2020,
  "Октомври 2021": quizData2021,
  "Юни 2021": quizData2021June,
};

// Fisher-Yates shuffle algorithm
function shuffleArray(array) {
  const newArray = [...array];
  for (let i = newArray.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
  }
  return newArray;
}

export default function Quiz() {
  const [currentQuestion, setCurrentQuestion] = useState(0);
  const [score, setScore] = useState(0);
  const [showScore, setShowScore] = useState(false);
  const [selectedAnswer, setSelectedAnswer] = useState(null);
  const [quizStarted, setQuizStarted] = useState(false);
  const [shuffledOptions, setShuffledOptions] = useState([]);
  const [selectedTest, setSelectedTest] = useState(null);

  // Shuffle options when question changes
  useEffect(() => {
    if (quizStarted && !showScore && selectedTest && tests[selectedTest]) {
      setShuffledOptions(
        shuffleArray(tests[selectedTest][currentQuestion].options)
      );
    }
  }, [currentQuestion, quizStarted, showScore, selectedTest]);

  const handleAnswerClick = (selectedOption) => {
    if (!selectedTest || !tests[selectedTest]) return;

    setSelectedAnswer(selectedOption);

    if (selectedOption === tests[selectedTest][currentQuestion].correctAnswer) {
      setScore(score + 1);
    }
  };

  const handleNextQuestion = () => {
    if (!selectedTest || !tests[selectedTest]) return;

    if (currentQuestion + 1 < tests[selectedTest].length) {
      setCurrentQuestion(currentQuestion + 1);
      setSelectedAnswer(null);
    } else {
      setShowScore(true);
    }
  };

  const restartQuiz = () => {
    setCurrentQuestion(0);
    setScore(0);
    setShowScore(false);
    setSelectedAnswer(null);
    setQuizStarted(false);
    setSelectedTest(null);
  };

  if (!selectedTest) {
    return (
      <div className="text-center">
        <h2 className="text-2xl font-bold mb-4 text-gray-900">
          Изберете изпит
        </h2>
        <div className="space-y-4">
          {Object.keys(tests).map((testName) => (
            <button
              key={testName}
              onClick={() => setSelectedTest(testName)}
              className="w-full max-w-md bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700 transition-colors font-medium text-lg"
            >
              {testName}
            </button>
          ))}
        </div>
      </div>
    );
  }

  if (!quizStarted) {
    return (
      <div className="text-center">
        <h2 className="text-2xl font-bold mb-4 text-gray-900">
          Добре дошли в теста!
        </h2>
        <p className="text-xl mb-8 text-gray-800">
          Тестът съдържа {tests[selectedTest]?.length || 0} въпроса
        </p>
        <button
          onClick={() => setQuizStarted(true)}
          className="bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700 transition-colors font-medium text-lg"
        >
          Започни теста
        </button>
      </div>
    );
  }

  if (showScore) {
    return (
      <div className="text-center">
        <h2 className="text-2xl font-bold mb-4 text-gray-900">
          Тестът приключи!
        </h2>
        <p className="text-xl mb-4 text-gray-800">
          Вашият резултат: {score} от {tests[selectedTest]?.length || 0}
        </p>
        <button
          onClick={restartQuiz}
          className="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors font-medium"
        >
          Избери друг тест
        </button>
      </div>
    );
  }

  if (!tests[selectedTest] || !tests[selectedTest][currentQuestion]) {
    return (
      <div className="text-center">
        <h2 className="text-2xl font-bold mb-4 text-gray-900">Грешка</h2>
        <p className="text-xl mb-8 text-gray-800">
          Възникна проблем с зареждането на теста. Моля, опитайте отново.
        </p>
        <button
          onClick={restartQuiz}
          className="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors font-medium"
        >
          Върни се към избора на тест
        </button>
      </div>
    );
  }

  return (
    <div className="max-w-2xl mx-auto p-6">
      <div className="mb-4 flex justify-between items-center">
        <span className="text-sm text-gray-700">
          Въпрос {currentQuestion + 1} от {tests[selectedTest].length}
        </span>
        <button
          onClick={restartQuiz}
          className="text-blue-600 hover:text-blue-800 text-sm font-medium transition-colors"
        >
          ← Обратно към тестовете
        </button>
      </div>
      <h2 className="text-xl font-bold mb-4 text-gray-900">
        {tests[selectedTest][currentQuestion].question}
      </h2>
      <div className="space-y-3">
        {shuffledOptions.map((option, index) => (
          <button
            key={index}
            onClick={() => handleAnswerClick(option)}
            disabled={selectedAnswer !== null}
            className={`w-full p-3 text-left rounded-lg border transition-colors text-gray-800 ${
              selectedAnswer === option
                ? option === tests[selectedTest][currentQuestion].correctAnswer
                  ? "bg-green-100 border-green-500 text-green-900"
                  : "bg-red-100 border-red-500 text-red-900"
                : option ===
                    tests[selectedTest][currentQuestion].correctAnswer &&
                  selectedAnswer !== null
                ? "bg-green-100 border-green-500 text-green-900"
                : "hover:bg-gray-100 border-gray-200"
            }`}
          >
            {option}
          </button>
        ))}
      </div>

      {selectedAnswer && (
        <div className="mt-6">
          {selectedAnswer ===
          tests[selectedTest][currentQuestion].correctAnswer ? (
            <p className="text-green-700 font-medium mb-4">Правилно! Браво!</p>
          ) : (
            <p className="text-red-700 font-medium mb-4">
              Грешно. Правилният отговор е:{" "}
              {tests[selectedTest][currentQuestion].correctAnswer}
            </p>
          )}
          <button
            onClick={handleNextQuestion}
            className="w-full bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors font-medium"
          >
            {currentQuestion + 1 === tests[selectedTest].length
              ? "Край на теста"
              : "Следващ въпрос"}
          </button>
        </div>
      )}
    </div>
  );
}
